Bootstrap: docker
From: ubuntu:18.04

%files
     pathway-tools-23.0-linux-64-tier1-install /tmp

%environment
     export PATH="$PATH:/programs/pathway-tools:"

%post
     apt-get -y update && \
     DEBIAN_FRONTEND=noninteractive apt-get install -y \
     curl \
     csh \
     git \
     ncbi-blast+ \
     libxm4 \
     python3.6-dev \
     python3.6-distutils \
     iputils-ping \
     gnome-terminal;\
     apt-get clean; \
     apt-get purge; \
     mkdir programs;\
     mkdir -p /external/folder;\
     chmod u+x /tmp/pathway-tools-23.0-linux-64-tier1-install;\
     ./tmp/pathway-tools-23.0-linux-64-tier1-install --InstallDir /programs/pathway-tools --PTOOLS_LOCAL_PATH /external/folder --InstallDesktopShortcuts 0 --mode unattended;\
     mkdir -p /opt;\
     cp -r /external/folder/ptools-local /opt;\
     rm /tmp/pathway-tools-23.0-linux-64-tier1-install;\
     curl https://bootstrap.pypa.io/get-pip.py | python3;\
     pip install Metage2Metabo